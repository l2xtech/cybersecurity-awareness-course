<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz 8 - Document and File Security</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

  <!-- Top Bar -->
  <div class="w-full bg-gray-200 py-2 px-4">
    <a href="../modules/module8.html" class="inline-flex items-center text-gray-700 hover:text-gray-900 font-medium">
      <svg class="h-4 w-4 mr-2 text-gray-700" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a1 1 0 01-.7-.3l-6-6a1 1 0 010-1.4l6-6a1 1 0 011.4 1.4L5.42 10l5.3 5.3A1 1 0 0110 18z" clip-rule="evenodd" />
      </svg>
      Back to Module
    </a>
  </div>

  <!-- Quiz Content -->
  <div class="flex-1 flex items-center justify-center p-6">
    <div id="quiz-box" class="w-full max-w-xl bg-white p-6 rounded shadow-md min-h-[300px]">
      <!-- Quiz Content Injected -->
    </div>
  </div>

  <script>
    const quizData = {
      module_title: "Document and File Security",
      questions: [
        {
          question: "What is document classification?",
          options: [
            "A system for organizing documents by date",
            "A method for categorizing documents based on their sensitivity level",
            "A technique for compressing document files",
            "A way to track document versions"
          ],
          correctAnswer: 1,
          feedback: "Document classification is a method for categorizing documents based on their sensitivity level (e.g., Public, Internal, Confidential, Restricted), helping employees understand how to handle different types of information."
        },
        {
          question: "What is Digital Rights Management (DRM)?",
          options: [
            "A type of document scanner",
            "A technology that provides advanced control over document access and usage",
            "A file compression technique",
            "A method for digitizing paper documents"
          ],
          correctAnswer: 1,
          feedback: "Digital Rights Management (DRM) is a technology that provides advanced control over document access and usage, including who can open documents, what they can do with them (view, edit, print, copy), and the ability to set expiration dates or revoke access."
        },
        {
          question: "Which of the following is NOT a secure method for disposing of physical documents?",
          options: [
            "Cross-cut shredding",
            "Secure disposal services",
            "Recycling bin without shredding",
            "Pulping or incineration"
          ],
          correctAnswer: 2,
          feedback: "Placing documents in a recycling bin without shredding is not secure. Sensitive documents should be cross-cut shredded, pulped, incinerated, or handled by secure disposal services that certify destruction."
        },
        {
          question: "What is metadata in the context of document security?",
          options: [
            "A type of encryption algorithm",
            "Hidden information in documents that may contain sensitive data",
            "A document classification level",
            "A secure file storage location"
          ],
          correctAnswer: 1,
          feedback: "Metadata is hidden information embedded in documents that may contain sensitive data such as author names, organization details, edit history, comments, and other information not visible in the main content but potentially accessible to recipients."
        },
        {
          question: "What is the best practice for sharing sensitive documents externally?",
          options: [
            "Email them as regular attachments",
            "Use personal file sharing services",
            "Use password protection, encryption, and company-approved platforms",
            "Post them on public websites with obscure URLs"
          ],
          correctAnswer: 2,
          feedback: "Best practices for sharing sensitive documents externally include using password protection, encryption, and company-approved sharing platforms with features like access controls, expiring links, and tracking capabilities."
        }
      ]
    };

    let currentQuestion = 0;
    let score = 0;
    let attemptsLeft = 3;

    const box = document.getElementById("quiz-box");

    function renderQuestion(index) {
      const q = quizData.questions[index];
      attemptsLeft = 3;

      box.innerHTML = `
        <h2 class="text-lg font-bold mb-2">Quiz: ${quizData.module_title}</h2>
        <p class="text-sm text-gray-600 mb-4">Question ${index + 1} of ${quizData.questions.length}</p>
        <p class="mb-4 font-medium">${q.question}</p>
        <div id="options" class="space-y-2 mb-4">
          ${q.options.map((opt, i) => `
            <button class="option-btn w-full border border-gray-300 rounded px-4 py-2 text-left hover:bg-gray-100 text-sm" data-index="${i}">
              ${opt}
            </button>
          `).join('')}
        </div>
        <div id="feedback" class="text-sm mt-2 mb-4 font-semibold"></div>
        <div class="flex justify-between">
          <button id="prevBtn" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 text-sm" ${index === 0 ? 'disabled' : ''}>Previous</button>
          <button id="nextBtn" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm" disabled>Next</button>
        </div>
      `;

      const optionButtons = document.querySelectorAll(".option-btn");
      const feedbackEl = document.getElementById("feedback");
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");

      optionButtons.forEach(btn => {
        btn.addEventListener("click", (e) => {
          const selected = parseInt(e.target.dataset.index);
          const correct = q.correctAnswer;

          optionButtons.forEach(b => {
            b.classList.remove("bg-green-100", "border-green-400", "bg-red-100", "border-red-400");
          });

          if (selected === correct) {
            e.target.classList.add("bg-green-100", "border-green-400");
            feedbackEl.textContent = "✅ Correct!";
            score++;
            nextBtn.disabled = false;
            optionButtons.forEach(b => b.disabled = true);
          } else {
            attemptsLeft--;
            if (attemptsLeft > 0) {
              feedbackEl.textContent = `❌ Incorrect. You have ${attemptsLeft} attempt${attemptsLeft > 1 ? 's' : ''} left.`;
            } else {
              e.target.classList.add("bg-red-100", "border-red-400");
              feedbackEl.textContent = `❌ ${q.feedback}`;
              nextBtn.disabled = false;
              optionButtons.forEach(b => b.disabled = true);
            }
          }
        });
      });

      nextBtn.addEventListener("click", () => {
        currentQuestion++;
        if (currentQuestion < quizData.questions.length) {
          renderQuestion(currentQuestion);
        } else {
          renderSummary();
        }
      });

      prevBtn.addEventListener("click", () => {
        if (currentQuestion > 0) {
          currentQuestion--;
          renderQuestion(currentQuestion);
        }
      });
    }

    function renderSummary() {
      const percent = Math.round((score / quizData.questions.length) * 100);
      box.innerHTML = `
        <h2 class="text-xl font-bold mb-4">Quiz Completed</h2>
        <p class="text-lg mb-2">✅ Your Score: <strong>${score} / ${quizData.questions.length}</strong></p>
        <p class="text-lg mb-6">📊 Accuracy: <strong>${percent}%</strong></p>
        <a href="../novo-index.html" class="inline-block bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition text-sm">
          Back to Home
        </a>
      `;
    }

    renderQuestion(currentQuestion);
  </script>
</body>
</html>
