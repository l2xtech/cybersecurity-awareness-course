<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz 5 - Safe Internet Browsing</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

  <!-- Top Bar -->
  <div class="w-full bg-gray-200 py-2 px-4">
    <a href="../modules/module5.html" class="inline-flex items-center text-gray-700 hover:text-gray-900 font-medium">
      <svg class="h-4 w-4 mr-2 text-gray-700" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a1 1 0 01-.7-.3l-6-6a1 1 0 010-1.4l6-6a1 1 0 011.4 1.4L5.42 10l5.3 5.3A1 1 0 0110 18z" clip-rule="evenodd" />
      </svg>
      Back to Module
    </a>
  </div>

  <!-- Quiz Content -->
  <div class="flex-1 flex items-center justify-center p-6">
    <div id="quiz-box" class="w-full max-w-xl bg-white p-6 rounded shadow-md min-h-[300px]">
      <!-- Questions go here -->
    </div>
  </div>

  <script>
    const quizData = {
      module_title: "Safe Internet Browsing",
      questions: [
        {
          question: "What is a key indicator of a secure website?",
          options: [
            "The website has colorful graphics",
            "The URL begins with 'http://'",
            "The URL begins with 'https://' and shows a padlock icon",
            "The website has a privacy policy link at the bottom"
          ],
          correctAnswer: 2,
          feedback: "A secure website will have a URL that begins with 'https://' (note the 's' which stands for secure) and displays a padlock icon in the address bar, indicating the connection is encrypted."
        },
        {
          question: "Which of the following is a warning sign of an unsafe website?",
          options: [
            "The website has a professional design",
            "The website has numerous pop-ups and alerts",
            "The website has a search function",
            "The website has a contact page"
          ],
          correctAnswer: 1,
          feedback: "Numerous pop-ups and alerts are often warning signs of unsafe websites. Legitimate websites typically avoid excessive pop-ups that create pressure or urgency."
        },
        {
          question: "What is the safest approach when using public Wi-Fi?",
          options: [
            "Connect to any available network with a strong signal",
            "Use a VPN to encrypt your internet traffic",
            "Conduct financial transactions immediately",
            "Share your login credentials with the network"
          ],
          correctAnswer: 1,
          feedback: "Using a VPN (Virtual Private Network) is the safest approach when using public Wi-Fi as it encrypts your internet traffic, protecting it from potential interception on unsecured networks."
        },
        {
          question: "What should you do before downloading software from the internet?",
          options: [
            "Download from any source that offers it for free",
            "Verify the source is legitimate and scan the file before opening",
            "Disable your antivirus temporarily to speed up the download",
            "Share the download link with colleagues first"
          ],
          correctAnswer: 1,
          feedback: "Before downloading software, always verify the source is legitimate (official websites or app stores) and scan the file with antivirus software before opening it to ensure it doesn't contain malware."
        },
        {
          question: "Which browser security feature helps protect against malicious websites?",
          options: [
            "Bookmark manager",
            "Download manager",
            "Pop-up blocker",
            "History cleaner"
          ],
          correctAnswer: 2,
          feedback: "Pop-up blockers help protect against malicious websites by preventing unwanted pop-up windows that may contain malicious content or deceptive messages designed to trick users."
        }
      ]
    };

    let currentQuestion = 0;
    let score = 0;
    let attemptsLeft = 3;

    const box = document.getElementById("quiz-box");

    function renderQuestion(index) {
      const q = quizData.questions[index];

      box.innerHTML = `
        <h2 class="text-lg font-bold mb-2">Quiz: ${quizData.module_title}</h2>
        <p class="text-sm text-gray-600 mb-4">Question ${index + 1} of ${quizData.questions.length}</p>
        <p class="mb-4 font-medium">${q.question}</p>
        <div id="options" class="space-y-2 mb-4">
          ${q.options.map((opt, i) => `
            <button class="option-btn w-full border border-gray-300 rounded px-4 py-2 text-left hover:bg-gray-100 text-sm" data-index="${i}">
              ${opt}
            </button>
          `).join('')}
        </div>
        <div id="feedback" class="text-sm mt-2 mb-4 font-semibold"></div>
        <div class="flex justify-between">
          <button id="prevBtn" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 text-sm" ${index === 0 ? 'disabled' : ''}>Previous</button>
          <button id="nextBtn" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm" disabled>Next</button>
        </div>
      `;

      attemptsLeft = 3;
      const optionButtons = document.querySelectorAll(".option-btn");
      const feedbackEl = document.getElementById("feedback");
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");

      optionButtons.forEach(btn => {
        btn.addEventListener("click", (e) => {
          const selected = parseInt(e.target.dataset.index);
          const correct = q.correctAnswer;

          optionButtons.forEach(b => b.classList.remove("bg-red-100", "border-red-400", "bg-green-100", "border-green-400"));

          if (selected === correct) {
            e.target.classList.add("bg-green-100", "border-green-400");
            feedbackEl.textContent = "âœ… Correct!";
            score++;
            nextBtn.disabled = false;
            optionButtons.forEach(b => b.disabled = true);
          } else {
            attemptsLeft--;
            if (attemptsLeft > 0) {
              feedbackEl.textContent = `âŒ Incorrect. You have ${attemptsLeft} attempt${attemptsLeft > 1 ? 's' : ''} left.`;
            } else {
              e.target.classList.add("bg-red-100", "border-red-400");
              feedbackEl.textContent = `âŒ ${q.feedback}`;
              nextBtn.disabled = false;
              optionButtons.forEach(b => b.disabled = true);
            }
          }
        });
      });

      nextBtn.addEventListener("click", () => {
        currentQuestion++;
        if (currentQuestion < quizData.questions.length) {
          renderQuestion(currentQuestion);
        } else {
          renderSummary();
        }
      });

      prevBtn.addEventListener("click", () => {
        if (currentQuestion > 0) {
          currentQuestion--;
          renderQuestion(currentQuestion);
        }
      });
    }

    function renderSummary() {
      const percent = Math.round((score / quizData.questions.length) * 100);
      box.innerHTML = `
        <h2 class="text-xl font-bold mb-4">Quiz Completed</h2>
        <p class="text-lg mb-2">âœ… Your Score: <strong>${score} / ${quizData.questions.length}</strong></p>
        <p class="text-lg mb-6">ðŸ“Š Accuracy: <strong>${percent}%</strong></p>
        <a href="../novo-index.html" class="inline-block bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition text-sm">
          Back to Home
        </a>
      `;
    }

    renderQuestion(currentQuestion);
  </script>
</body>
</html>
